***Когда мы используем ключевое слово `yield` в функции, она становится не просто функцией, 
а генераторной функцией.***

![](https://cdn-user36618.skyeng.ru/skyconvert/unsafe/fit-in/684x/https://cdn-user12724.skyeng.ru/image/ec1e922ca6bd8aebd2e067e7e4a3559b.png)

Рассмотрим этапы генерации подробнее:

1. Инициализация.
   - Код, который находится перед первым `yield`, называется кодом инициализации. 
   - Этот код выполняется только при первом вызове функции и до первого `yield`.
2. Приостановка и получение значений.
 - Когда вызывается `next()`, выполнение генераторной функции приостанавливается на ключевом слове
`yield` и значение, указанное после `yield`, возвращается вызывающей стороне.
 - Процесс приостановки и возобновления выполнения генераторной функции повторяется при каждом новом вызове `next()`
3. Завершение генерации.

    Генераторная функция завершает работу, когда выполняется одно из следующих условий:
   - встречено новое `yield`
   - встречено ключевое слово `return`
   - достигнут конец тела функции.

Разберем на примере:

    def f():
        print('Initializing...')
        yield 'one'
        print('Continue...')
        yield 'two'
        print('Stopping...')
    
    i = f()
    >>> Initializing...
    print(next(i))
    >>> one
    print(next(i))
    >>> Continue...
        two
    print(next(i))
    >>> Stopping...
    StopIteration

Давайте рассмотрим, что происходит на каждом этапе вызова этой функции.

1. Инициализация:

    `i = f()`

    При первом вызове функции `f()` происходит инициализация. Однако сам код внутри функции еще не выполняется. 
    Вместо этого создается объект **генератора** `(generator object)`, который представляет собой тип итератора.
2. Первый вызов `next()`:

    `next(i)`

    Первый вызов `next()` запускает код генераторной функции до первого ключевого слова
    `yield`. В этот момент выводится '`Initializing...`', и функция приостанавливает выполнение, возвращая значение
    '`one`'. Генератор теперь находится в состоянии приостановки.
3. Второй вызов `next()`:

    `next(i)`
    
    При следующем вызове `next()` выполнение функции возобновляется сразу после первого
    `yield`. Выводится '`Continue...`', и функция снова приостанавливает выполнение, возвращая значение '`two`'.
4. Третий вызов `next()`:

    `next(i)`
    
    При третьем вызове `next()` выполнение функции возобновляется сразу после второго
    `yield`. Выводится '`Stopping...`', и функция снова приостанавливает выполнение. Так как больше
    `yield` в коде нет, генератор завершает свою работу, вызывая исключение `StopIteration`
    что сигнализирует об окончании итерации.

Таким образом, генераторная функция `f()` позволяет контролировать выполнение кода и возвращать значения 
по мере необходимости, при этом сохраняя свое состояние между вызовами.

***После завершения работы генератора нельзя повторно использовать тот же самый экземпляр. 
При необходимости повторного использования нужно создавать новый экземпляр генератора в новой переменной.***
































