<i>Тестирование — важная часть разработки программного обеспечения. Рассмотрим, как использовать `pytest` для 
тестирования генераторных выражений и функций-генераторов.

<h1> <i>Тестирование генераторных выражений</i> </h1>
Давайте разберемся, как мы можем написать тесты для генераторных выражений с использованием `pytest`.
Пример генераторного выражения:

    # Генераторное выражение для создания списка квадратов четных чисел от 0 до 9
    squares = (x * x for x in range(10) if x % 2 == 0)

Тестирование генераторного выражения:

    import pytest
    
    def test_squares():
        expected_result = [0, 4, 16, 36, 64]
        result = list((x * x for x in range(10) if x % 2 == 0))
        assert result == expected_result


Давайте разберем тест пошагово:
1. Ожидаемый результат:<br>
&nbsp;&nbsp;&nbsp;&nbsp;`expected_result = [0, 4, 16, 36, 64]`<br>
&nbsp;&nbsp;&nbsp;&nbsp;В тесте создается ожидаемый результат — список квадратов четных чисел от `0` до `9`.

2. Фактический результат:<br>
&nbsp;&nbsp;&nbsp;&nbsp;`result = list((x * x for x in range(10) if x % 2 == 0))`<br>
&nbsp;&nbsp;&nbsp;&nbsp;Генераторное выражение, которое создает генератор квадратов четных<br>
&nbsp;&nbsp;&nbsp;&nbsp;чисел в диапазоне от `0` до `9`,<br> 
&nbsp;&nbsp;&nbsp;&nbsp;использует условие `if x % 2 == 0`, чтобы включить только четные числа.<br> 
&nbsp;&nbsp;&nbsp;&nbsp;Генератор преобразован в список с помощью функции `list()`.
3. Проверка:<br>
&nbsp;&nbsp;&nbsp;&nbsp;`assert result == expected_result`<br>
&nbsp;&nbsp;&nbsp;&nbsp;Выполняется проверка на равенство между фактическим результатом и ожидаемым результатом.<br> 
&nbsp;&nbsp;&nbsp;&nbsp;Если результаты совпадают, тест считается успешным. В противном случае он выдаст ошибку.

<h1><i>Тестирование функций-генераторов</i></h1>
Рассмотрим, как написать тесты для функций-генераторов.
Пример функции-генератора:

    # Генераторная функция для создания бесконечной последовательности натуральных чисел
    def infinite_sequence(start=1):
        while True:
            yield start
            start += 1

Тестирование функции-генератора:

    import pytest

    def test_infinite_sequence():
        generator = infinite_sequence()
        assert next(generator) == 1
        assert next(generator) == 2
        assert next(generator) == 3
        # Дополнительные проверки по мере необходимости

Разберем тест пошагово:
1. Инициализация генератора:<br>
&nbsp;&nbsp;&nbsp;&nbsp;`generator = infinite_sequence()`<br>
&nbsp;&nbsp;&nbsp;&nbsp;Создается объект генератора, вызывая функцию `infinite_sequence()`
2. Проверка первого элемента:<br>
&nbsp;&nbsp;&nbsp;&nbsp;`assert next(generator) == 1`<br>
&nbsp;&nbsp;&nbsp;&nbsp;Вызывается функция `next()`, чтобы получить следующий элемент из бесконечной<br>
&nbsp;&nbsp;&nbsp;&nbsp;последовательности. Проверяется, что он равен `1`.
3. Проверка второго элемента:<br>
&nbsp;&nbsp;&nbsp;&nbsp;`assert next(generator) == 2`<br>
&nbsp;&nbsp;&nbsp;&nbsp;Аналогично проверяется, что следующий элемент равен `2`.
4. Проверка третьего элемента:<br>
&nbsp;&nbsp;&nbsp;&nbsp;`assert next(generator) == 3`<br>
&nbsp;&nbsp;&nbsp;&nbsp;Аналогично проверяется, что следующий элемент равен `3`.

Тест написан так, чтобы проверить первые три элемента бесконечной последовательности. Так как функция
`infinite_sequence()` создает бесконечную последовательность, дополнительные проверки могут быть добавлены 
по мере необходимости.

Основная цель теста — убедиться, что функция `infinite_sequence()`
работает корректно, генерируя ожидаемую последовательность чисел.

<span style="color: green;"><i><b>Использование `pytest` в сочетании с генераторными выражениями и 
функциями-генераторами делает процесс тестирования более эффективным и удобным, позволяя легко проверять 
сложную логику обработки данных и последовательностей.</span>
