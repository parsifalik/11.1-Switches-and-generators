## Что такое исключение
Пусть у нас есть программа, состоящая из трех строк:

    print('Начало работы программы...')
    print(a)
    print('Конец работы программы.')
Здесь нет синтаксических ошибок, но в процессе исполнения этой программы `Python` сообщит нам об ошибке, т. е. 
выбросит исключение `NameError`:

    Начало работы программы...
    ---------------------------------------------------------------------------
    NameError                                 Traceback (most recent call last)
    <ipython-input-1-4b472d713953> in <cell line: 2>()
          1 print('Начало работы программы...')
    ----> 2 print(a)
          3 print('Конец работы программы.')
    
    NameError: name 'a' is not defined

*****<span style="color: yellow;">Исключение — это событие, которое прерывает нормальное выполнение программы из-за ошибки.</span>*****

Типы исключений могут быть самыми разными в зависимости от возникшей ошибки. 

Например:
 - Если выполнить деление на ноль `10/0`, то будет выброшено исключение `ZeroDivisionError`.
   - Если открыть несуществующий файл, то будет выброшено исключение `FileNotFoundError`:


          file = open("file.txt")
          FileNotFoundError: [Errno 2] No such file or directory: 'file.txt'
Примеры исключений:
 - `RecursionError` — ошибка рекурсии (`def recursion()`: `return recursion()`).
 - `TypeError` — ошибка типа (`2 + '2'`).
 - `OverflowError` — ошибка переполнения (`math.exp(1000)`).
 - `AssertionError` — ошибка утверждения (`a, b = 1, 'a'`; `assert a == b`).
 - `AttributeError` — ошибка атрибута (попытка сослаться на несуществующий атрибут).

Чтобы избежать остановки программы, мы можем обрабатывать ошибки с помощью специальных синтаксических 
конструкций — блоков `try`, `except`, `finally` и `else`. Они используются для обработки исключений (ошибок) 
и выполнения кода в зависимости от того, произошла ли ошибка и как она была обработана.

## Блоки `try` и `except`
Блок `try` предназначен для обрамления кода, который может вызвать исключение.
Блок `except` следует за `try` и содержит код, который выполняется в случае, если в блоке
`try` произошло исключение.

При возникновении исключения выполнение кода в блоке `try` прекращается, и управление передается блоку
`except`, который может обработать исключение. В блоке `except` указывается конкретное обрабатываемое исключение:

        try:
            # Код, который может вызвать исключение
            result = 10 / 0
        except ZeroDivisionError:
            # Код, который выполняется в случае исключения
            print("Ошибка: Вы пытаетесь сломать математику. Делить на 0 нельзя!")
    
    >>> Ошибка: Вы пытаетесь сломать математику. Делить на 0 нельзя!
В этом примере, если произойдет деление на ноль, код в блоке `except ZeroDivisionError`
выполнится и будет выведено сообщение об ошибке. Блоков except
может быть сколько угодно, на каждую ситуацию (на каждый тип исключений).

Пример:

    try:
        # Код, который может вызвать исключение
        value = int(input("Введите число: "))
        result = 10 / value

    except ValueError:
        # Код, который выполняется в случае, если введено нечисловое значение
        print("Ошибка: Введено нечисловое значение.")

    except ZeroDivisionError:
        # Код, который выполняется в случае деления на ноль
        print("Ошибка: Вы пытаетесь сломать математику. Делить на 0 нельзя!")

    except Exception:
        # Общий блок для всех остальных исключений
        print(f"Произошла ошибка.")

Рассмотрим подробнее данный пример:
 - Если введено нечисловое значение, выполнится блок `except ValueError`
 - Если происходит деление на ноль, выполнится блок `except ZeroDivisionError`
 -  Если возникнет какое-либо другое исключение, выполнится блок `except Exception`
 и будет выведено сообщение о том, что произошла ошибка.

## Блоки `try`, `except` и `else`
Дополнительно к блокам `try` и `except` есть блок `else`, который может содержать код, выполняемый только в том случае, 
если исключение не произошло. Если в блоке `try` не произошло исключение, то есть код выполнился без ошибок, 
то управление перейдет к блоку `else`
Пример:

    try:
        # Код, который может вызвать исключение
        result = 10 / 2
    except ZeroDivisionError:
        # Код, который выполняется в случае исключения
        print("Ошибка: Вы пытаетесь сломать математику. Делить на 0 нельзя!")
    else:
        # Код, который выполняется, если исключение не произошло
        print(f"Результат: {result}")

    >>> Результат: 5
В этом примере: если деление не вызвало ошибку, то блок else будет выполнен и результат будет выведен.

## Блоки `try`, `except`, `else` и `finally`
Для завершения механизма обработки исключений добавляется блок `finally`. Код в блоке
`finally` выполняется всегда, независимо от того, произошло исключение или нет. 
Этот блок полезен, например, для освобождения ресурсов или выполнения завершающих действий.

Пример:

    try:
        # Код, который может вызвать исключение
        result = 10 / 2
    except ZeroDivisionError:
        # Код, который выполняется в случае исключения
        print("Ошибка: Вы пытаетесь сломать математику. Делить на 0 нельзя!")
    else:
        # Код, который выполняется, если исключение не произошло
        print(f"Результат: {result}")
    finally:
        # Код, который всегда выполняется, независимо от того, произошло исключение или нет
        print("Программа завершает работу")

    >>> Результат: 5
        Программа завершает работу

В данном примере блок `finally` содержит код, который будет выполнен всегда, вне зависимости от того, 
было исключение или нет. Это может быть использовано, например, для закрытия файлов или соединений с базой данных. 
Со всеми этими понятиями мы познакомимся в ходе обучения.

## Особенности работы блока `except`
*****<span style="color: yellow;">Любой ошибке, обрабатываемой в блоке `except`, можно присвоить имя с помощью ключевого слова `as`.</span>*****

Давайте разберемся с тем, как это может выглядеть, на примере:

    def divide(x, y):
    try:
        result = x / y
    except ZeroDivisionError as e:
        print(f"Error: {e}")
        result = None
    return result

    result = divide(10, 0)

    >>> Error: division by zero

В этом примере:
 - `except`  — это ключевое слово, которое указывает на начало блока обработки исключения.
 - `ZeroDivisionError`  — это тип исключения, который вы хотите перехватить. В данном случае это
 `ZeroDivisionError`, которое возникает при делении на ноль.
 - `as` `e`  — это часть конструкции, которая используется для связывания объекта исключения с переменной
 `e`. После выполнения блока `except` вы можете использовать переменную `e`
 для доступа к информации об исключении, такой как текст сообщения об ошибке.

В данном примере: если при вызове функции `divide` происходит деление на ноль, блок
`except ZeroDivisionError as e` перехватывает это исключение. Объект исключения сохраняется в переменной
`e`, и мы можем использовать ее для вывода сообщения об ошибке или выполнения других действий.

Важно отметить, что использование `as` `e` является опциональным и вы можете использовать, например,
`except ZeroDivisionError`:

    или обработку любой другой ошибки без создания переменной, если информация об исключении не требуется. 
    Пример такой обработки ошибки мы приводили выше.

Общий смысл использования ключевого слова `as` заключается в том, чтобы создать более информативные 
сообщения об ошибках и, возможно, выполнить дополнительные действия в зависимости от конкретного типа исключения.

## Самостоятельный вызов исключений
*****<span style="color: yellow;">Оператор `raise` используется для явного возбуждения (вызова) исключения (`exception`). 
Это позволяет программисту явно указать, что в определенной ситуации программа должна сгенерировать исключение, 
прервав нормальный поток выполнения.</span>*****

Синтаксис оператора `raise`:<br>
&nbsp;&nbsp;&nbsp;&nbsp;`raise` `ExceptionType(args)`

Где:
 - `ExceptionType`  — тип исключения, которое вы хотите вызвать. Это может быть встроенный тип исключения (например,
 `ValueError`, `TypeError`, `NameError` и т. д.) или пользовательский класс исключения 
 (то, как создать свою ошибку, вы узнаете позже).
 - `args` — дополнительные аргументы, которые могут быть переданы конструктору исключения. 
 Это необязательный параметр. Обычно в нём указывается сообщение, которое будет выведено при возбуждении ошибки.

### Примеры использования `raise`
Возбуждение встроенного исключения:

    def divide(x, y):
        if y == 0:
            raise ZeroDivisionError("Cannot divide by zero")
        return x / y
    
    
    try:
        result = divide(10, 0)
    except ZeroDivisionError as e:
        print(f"Error: {e}")

В этом примере: если функция `divide` вызывается с делителем `y`, равным нулю, будет возбуждено исключение
`ZeroDivisionError`.

Использование `raise` без указания типа исключения:

    def raise_generic_error():
        raise Exception("This is a generic exception")
    
    
    try:
        raise_generic_error()
    except Exception as e:
        print(f"Error: {e}")

В этом случае используется общий класс исключения — `Exception`
В реальном коде рекомендуется использовать конкретные типы исключений для более точной обработки ошибок.

<span style="color: yellow;">*****Использование оператора `raise` позволяет создавать гибкий и четкий механизм обработки ошибок в программах.*****</span>








